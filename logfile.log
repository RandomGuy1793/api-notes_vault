{"level":"error","message":"express is not defined"}
{"code":"MODULE_NOT_FOUND","level":"error","message":"Cannot find module './routes/root'\nRequire stack:\n- /home/faisal/development/projects/notes_vault-api/startup/routes.js\n- /home/faisal/development/projects/notes_vault-api/index.js Cannot find module './routes/root'\nRequire stack:\n- /home/faisal/development/projects/notes_vault-api/startup/routes.js\n- /home/faisal/development/projects/notes_vault-api/index.js","requireStack":["/home/faisal/development/projects/notes_vault-api/startup/routes.js","/home/faisal/development/projects/notes_vault-api/index.js"],"stack":"Error: Cannot find module './routes/root'\nRequire stack:\n- /home/faisal/development/projects/notes_vault-api/startup/routes.js\n- /home/faisal/development/projects/notes_vault-api/index.js\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:778:27)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)\n    at require (node:internal/modules/cjs/helpers:102:18)\n    at Object.<anonymous> (/home/faisal/development/projects/notes_vault-api/startup/routes.js:2:14)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Module.require (node:internal/modules/cjs/loader:1005:19)"}
{"level":"error","message":"express is not defined express is not defined","stack":"ReferenceError: express is not defined\n    at module.exports (/home/faisal/development/projects/notes_vault-api/startup/routes.js:8:13)\n    at Object.<anonymous> (/home/faisal/development/projects/notes_vault-api/index.js:7:28)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\n    at Module.load (node:internal/modules/cjs/loader:981:32)\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\n    at node:internal/main/run_main_module:17:47"}
{"level":"error","message":"connect ECONNREFUSED 127.0.0.1:27017 connect ECONNREFUSED 127.0.0.1:27017","reason":{"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"servers":{},"stale":false,"type":"Unknown"},"stack":"MongooseServerSelectionError: connect ECONNREFUSED 127.0.0.1:27017\n    at NativeConnection.Connection.openUri (/home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/connection.js:797:32)\n    at /home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/index.js:332:10\n    at /home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/helpers/promiseOrCallback.js:32:5\n    at new Promise (<anonymous>)\n    at promiseOrCallback (/home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/helpers/promiseOrCallback.js:31:10)\n    at Mongoose._promiseOrCallback (/home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/index.js:1158:10)\n    at Mongoose.connect (/home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/index.js:331:20)\n    at module.exports (/home/faisal/development/projects/notes_vault-api/startup/db.js:4:14)\n    at Object.<anonymous> (/home/faisal/development/projects/notes_vault-api/index.js:8:24)\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)"}
{"level":"error","message":"connect ECONNREFUSED 127.0.0.1:27017 connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":13,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"servers":{},"stale":false,"type":"Single"},"stack":"MongooseServerSelectionError: connect ECONNREFUSED 127.0.0.1:27017\n    at Function.Model.$wrapCallback (/home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/model.js:4966:32)\n    at /home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/query.js:4610:21\n    at /home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/helpers/promiseOrCallback.js:32:5\n    at new Promise (<anonymous>)\n    at promiseOrCallback (/home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/helpers/promiseOrCallback.js:31:10)\n    at model.Query.exec (/home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/query.js:4609:10)\n    at model.Query.Query.then (/home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/query.js:4692:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"winston.info is not a function winston.info is not a function","stack":"TypeError: winston.info is not a function\n    at /home/faisal/development/projects/notes_vault-api/startup/db.js:6:24\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"61d8187de120ad0f974b031\" (type string) at path \"_id\" for model \"User\" Cast to ObjectId failed for value \"61d8187de120ad0f974b031\" (type string) at path \"_id\" for model \"User\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"61d8187de120ad0f974b031\" (type string) at path \"_id\" for model \"User\"\n    at model.Query.exec (/home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/query.js:4593:21)\n    at model.Query.Query.then (/home/faisal/development/projects/notes_vault-api/node_modules/mongoose/lib/query.js:4692:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"61d8187de120ad0f974b031\"","value":"61d8187de120ad0f974b031","valueType":"string"}
{"level":"info","message":"connected to mongoDB"}
{"level":"error","message":"ObjectId is not defined ObjectId is not defined","stack":"ReferenceError: ObjectId is not defined\n    at module.exports (/home/faisal/development/projects/notes_vault-api/middleware/validateObjId.js:6:35)\n    at newFn (/home/faisal/development/projects/notes_vault-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/router/route.js:137:13)\n    at authenticate (/home/faisal/development/projects/notes_vault-api/middleware/auth.js:11:9)\n    at newFn (/home/faisal/development/projects/notes_vault-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/faisal/development/projects/notes_vault-api/node_modules/express-async-errors/index.js:16:20)"}
{"level":"info","message":"connected to mongoDB"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:776:10)\n    at ServerResponse.send (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:170:12)\n    at /home/faisal/development/projects/notes_vault-api/routes/notes.js:46:28\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
{"level":"error","message":"Argument passed in must be a string of 12 bytes or a string of 24 hex characters Argument passed in must be a string of 12 bytes or a string of 24 hex characters","stack":"BSONTypeError: Argument passed in must be a string of 12 bytes or a string of 24 hex characters\n    at new BSONTypeError (/home/faisal/development/projects/notes_vault-api/node_modules/bson/lib/error.js:41:28)\n    at new ObjectId (/home/faisal/development/projects/notes_vault-api/node_modules/bson/lib/objectid.js:65:23)\n    at module.exports (/home/faisal/development/projects/notes_vault-api/middleware/validateObjId.js:5:27)\n    at newFn (/home/faisal/development/projects/notes_vault-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/router/route.js:137:13)\n    at authenticate (/home/faisal/development/projects/notes_vault-api/middleware/auth.js:11:9)\n    at newFn (/home/faisal/development/projects/notes_vault-api/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/router/route.js:137:13)"}
{"level":"info","message":"connected to mongoDB"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:776:10)\n    at ServerResponse.send (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:170:12)\n    at /home/faisal/development/projects/notes_vault-api/routes/notes.js:45:28\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:776:10)\n    at ServerResponse.send (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:170:12)\n    at /home/faisal/development/projects/notes_vault-api/routes/notes.js:45:28\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:776:10)\n    at ServerResponse.send (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:170:12)\n    at /home/faisal/development/projects/notes_vault-api/routes/notes.js:44:69\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:776:10)\n    at ServerResponse.send (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:170:12)\n    at /home/faisal/development/projects/notes_vault-api/routes/notes.js:44:69\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"connected to mongoDB"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:776:10)\n    at ServerResponse.send (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:170:12)\n    at /home/faisal/development/projects/notes_vault-api/routes/notes.js:45:28\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:776:10)\n    at ServerResponse.send (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:170:12)\n    at /home/faisal/development/projects/notes_vault-api/routes/notes.js:44:69\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:776:10)\n    at ServerResponse.send (/home/faisal/development/projects/notes_vault-api/node_modules/express/lib/response.js:170:12)\n    at /home/faisal/development/projects/notes_vault-api/routes/notes.js:44:69\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
{"level":"info","message":"connected to mongoDB"}
